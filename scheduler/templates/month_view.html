<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/static/css/calendar.css">
</head>
<body>
    <h1>
        <a href="/?year={{ prev_year }}&month={{ prev_month }}">←</a>
        <a href="/year_view?year={{ year }}">{{ month_name }} - <span id="year-link">{{ year }}</span></a>
        <a href="/?year={{ next_year }}&month={{ next_month }}">→</a>
    </h1>
    

    <div class="grid">
        <!-- Weekday Headers -->
        <div class="weekday">Mon</div>
        <div class="weekday">Tue</div>
        <div class="weekday">Wed</div>
        <div class="weekday">Thu</div>
        <div class="weekday">Fri</div>
        <div class="weekday">Sat</div>
        <div class="weekday">Sun</div>

        <!-- Empty Slots for Alignment -->
        {% for _ in range(start_weekday) %}
            <div class="block empty"></div>
        {% endfor %}

        <!-- Days of the Month -->
        {% for day in range(1, num_days+1) %}
            <div class="block">
                <div class="date">{{ day }}</div>
                
                {% if day in events_by_day %}
                    <div class="events">
                        {% for event in events_by_day[day] %}
                            <div class="event">
                                {{ event.start.strftime('%H:%M') }} - {{ event.end.strftime('%H:%M') }}
                                (Priority: {{ event.priority }})
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </div>
</body>
</html>
